{
  "version": 1,
  "minor_version": 1,
  "key": "lovelace",
  "data": {
    "config": {
      "views": [
        {
          "theme": "Backend-selected",
          "title": "Home",
          "type": "custom:masonry-layout",
          "layout": {
            "width": 300,
            "max_cols": 8
          },
          "badges": [],
          "cards": [
            {
              "type": "horizontal-stack",
              "cards": [
                {
                  "type": "gauge",
                  "name": "Monthly Cost",
                  "unit": "ZAR",
                  "min": 0,
                  "max": 1500,
                  "needle": true,
                  "severity": {
                    "green": 0,
                    "yellow": 700,
                    "red": 900
                  },
                  "entity": "sensor.monthly_grid_cost"
                },
                {
                  "type": "gauge",
                  "entity": "sensor.sonoff_10023a625a_power",
                  "name": "Grid Usage",
                  "unit": "W",
                  "min": 0,
                  "max": 8000,
                  "needle": true,
                  "severity": {
                    "green": 0,
                    "yellow": 500,
                    "red": 1100
                  }
                }
              ],
              "title": "Eskom Grid Power"
            },
            {
              "type": "gauge",
              "entity": "sensor.front_gate_battery",
              "needle": true,
              "severity": {
                "green": 70,
                "yellow": 40,
                "red": 0
              }
            },
            {
              "show_state": true,
              "show_name": true,
              "camera_view": "live",
              "type": "picture-entity",
              "entity": "camera.front_gate"
            },
            {
              "type": "map",
              "entities": [
                {
                  "entity": "person.danie"
                }
              ],
              "dark_mode": true,
              "title": "Where is Danie?",
              "hours_to_show": 1,
              "default_zoom": 14
            },
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "gauge",
                  "entity": "sensor.battery_soc",
                  "needle": true,
                  "name": "Battery Charge",
                  "severity": {
                    "green": 50,
                    "yellow": 25,
                    "red": 0
                  }
                },
                {
                  "type": "gauge",
                  "entity": "sensor.ac_loads",
                  "min": 0,
                  "max": 5000,
                  "needle": true,
                  "severity": {
                    "green": 0,
                    "yellow": 1700,
                    "red": 4000
                  },
                  "name": "AC loads on Inverter"
                },
                {
                  "type": "gauge",
                  "entity": "sensor.pv_power",
                  "name": "Solar PV Power",
                  "min": 0,
                  "max": 2650,
                  "needle": true,
                  "severity": {
                    "green": 850,
                    "yellow": 300,
                    "red": 0
                  }
                }
              ]
            },
            {
              "type": "horizontal-stack",
              "cards": [
                {
                  "type": "gauge",
                  "entity": "sensor.time_left_on_battery_zero",
                  "name": "Time to Empty",
                  "unit": "Hours",
                  "min": 0,
                  "max": 24,
                  "needle": true,
                  "severity": {
                    "green": 5,
                    "yellow": 3,
                    "red": 0
                  }
                },
                {
                  "type": "gauge",
                  "entity": "sensor.time_left_on_battery_min_soc",
                  "name": "Time to Min SoC",
                  "unit": "Hours",
                  "min": 0,
                  "max": 24,
                  "needle": true,
                  "severity": {
                    "green": 3,
                    "yellow": 1,
                    "red": 0
                  }
                }
              ],
              "title": "Time Left on Battery"
            },
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "vertical-stack",
                  "cards": [
                    {
                      "type": "entities",
                      "entities": [
                        {
                          "entity": "sensor.load_shedding_stage_capetown"
                        },
                        {
                          "entity": "sensor.load_shedding_stage_eskom"
                        }
                      ]
                    },
                    {
                      "type": "markdown",
                      "content": "{% set stage_sensor = \"sensor.load_shedding_stage_eskom\" %} {% set area_sensor = \"sensor.load_shedding_area_capetown_9_thornton\" %} {% set start_time = state_attr(stage_sensor, \"start_time\") %} {% set end_time = state_attr(stage_sensor, \"end_time\") %} {% set area_schedule = state_attr(area_sensor, \"forecast\") %} {% if area_schedule %}\n  {% set start_time = area_schedule[0].start_time %}\n  {% set end_time = area_schedule[0].end_time %}\n  {% if is_state(area_sensor, \"off\") %}\n    {% set starts_in = timedelta(minutes=state_attr(area_sensor, \"starts_in\")) %}\n    {% if is_state_attr(stage_sensor, \"stage\", 0) or starts_in.seconds > 86400  %}\n      <ha-alert alert-type=\"success\">{{ states(stage_sensor) }}</ha-alert>\n    {% elif not is_state_attr(stage_sensor, \"stage\", 0) and 0 < starts_in.seconds <= 86400 %}\n      <ha-alert alert-type=\"warning\">Load Shedding starts in {{ starts_in.seconds // 3600 }}h{{ (starts_in.seconds // 60) - (starts_in.seconds // 3600 * 60) }}m ({{ as_timestamp(start_time) | timestamp_custom(\"%H:%M\", True) }})</ha-alert>\n    {% endif %}\n  {% else %}\n    {% set ends_in = timedelta(minutes=state_attr(area_sensor, \"ends_in\")) %}\n    {% if is_state_attr(stage_sensor, \"stage\", 0) or ends_in.seconds > 86400 %}\n      <ha-alert alert-type=\"success\">{{ states(stage_sensor) }}</ha-alert>\n    {% elif not is_state_attr(stage_sensor, \"stage\", 0) and 0 < ends_in.seconds <= 86400 %}\n      <ha-alert alert-type=\"error\">Load Shedding ends in {{ ends_in.seconds // 3600 }}h{{ (ends_in.seconds // 60) - (ends_in.seconds // 3600 * 60) }}m  ({{ as_timestamp(end_time) | timestamp_custom(\"%H:%M\", True) }})</ha-alert>\n    {% endif %}\n  {% endif %}\n{% endif %} {% set area_forecast = state_attr(area_sensor, \"forecast\" )%} {% if area_forecast %} <table width=\"100%\"  border=0>\n  <tbody>\n  <tr>\n    <td width=\"34px\"><ha-icon icon=\"mdi:calendar\"></ha-icon></td>\n    <td align=\"left\" colspan=3>Forecast : :  {{ state_attr(area_sensor, \"friendly_name\") }}</td>\n  </tr>\n  {% for forecast in area_forecast[:3] %}\n  <tr>\n    <td></td>\n    <td align=\"left\">\n    {{ as_timestamp(forecast.start_time) | timestamp_custom(\"%-d %B\", True) }}\n    </td>\n    <td align=\"left\">\n    {{ as_timestamp(forecast.start_time) | timestamp_custom(\"%H:%M\", True) }} - {{ as_timestamp(forecast.end_time) | timestamp_custom(\"%H:%M\", True) }}\n    </td>\n    <td align=\"right\">Stage {{ forecast.stage }}</td>\n  </tr>\n  {% endfor %}\n  </tbody>\n</table> {% endif %} {% set area_schedule = state_attr(area_sensor, \"schedule\" )%} {% if area_schedule %} <table width=\"100%\"  border=0>\n  <tbody>\n  <tr>\n    <td width=\"34px\"><ha-icon icon=\"mdi:calendar\"></ha-icon></td>\n    <td align=\"left\" colspan=3>Schedule : : {{ state_attr(area_sensor, \"friendly_name\") }}</td>\n  </tr>\n  {% for slot in area_schedule[:3] %}\n  <tr>\n    <td></td>\n    <td align=\"left\">\n    {{ as_timestamp(slot.start_time) | timestamp_custom(\"%-d %B\", True) }}\n    </td>\n    <td align=\"left\">\n    {{ as_timestamp(slot.start_time) | timestamp_custom(\"%H:%M\", True) }} - {{ as_timestamp(slot.end_time) | timestamp_custom(\"%H:%M\", True) }}\n    </td>\n    <td align=\"right\">Stage {{ slot.stage }}</td>\n  </tr>\n  {% endfor %}\n  </tbody>\n</table> {% endif %} {% set area_schedule = state_attr(area_sensor, \"schedule\" )%} {% if area_schedule %} <table width=\"100%\"  border=0>\n  <tbody>\n  <tr>\n    <td width=\"34px\"><ha-icon icon=\"mdi:calendar\"></ha-icon></td>\n    <td align=\"left\" colspan=3>Schedule : : {{ state_attr(area_sensor, \"friendly_name\") }}</td>\n  </tr>\n  {% for slot in area_schedule[:3] %}\n  <tr>\n    <td></td>\n    <td align=\"left\">\n    {{ as_timestamp(slot.start_time) | timestamp_custom(\"%-d %B\", True) }}\n    </td>\n    <td align=\"left\">\n    {{ as_timestamp(slot.start_time) | timestamp_custom(\"%H:%M\", True) }} - {{ as_timestamp(slot.end_time) | timestamp_custom(\"%H:%M\", True) }}\n    </td>\n    <td align=\"right\">Stage {{ slot.stage }}</td>\n  </tr>\n  {% endfor %}\n  </tbody>\n</table> {% endif %}\n"
                    }
                  ]
                },
                {
                  "type": "custom:mushroom-template-card",
                  "primary": "Quota {{state_attr(entity, \"count\")}}/{{state_attr(entity, \"limit\")}}",
                  "secondary": "API Allowed Quota",
                  "icon": "mdi:lightning-bolt",
                  "entity": "sensor.load_shedding_sepush_api_quota",
                  "tap_action": {
                    "action": "more-info"
                  },
                  "icon_color": "",
                  "badge_icon": "",
                  "fill_container": false,
                  "multiline_secondary": false
                }
              ]
            },
            {
              "initial_view": "listWeek",
              "type": "calendar",
              "entities": [
                "calendar.chantel_swart",
                "calendar.holidays_in_south_africa",
                "calendar.dvdmerwe_gmail_com"
              ],
              "title": "Our Schedule"
            },
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "media-control",
                  "entity": "media_player.googlehome9254"
                },
                {
                  "type": "media-control",
                  "entity": "media_player.googlehome3156"
                },
                {
                  "type": "media-control",
                  "entity": "media_player.lounge_tv"
                }
              ]
            },
            {
              "type": "vertical-stack",
              "title": "Alarms",
              "cards": [
                {
                  "type": "custom:button-card",
                  "color_type": "icon",
                  "entity": "sensor.active_input_source",
                  "name": "Grid Status",
                  "show_label": true,
                  "size": "100%",
                  "layout": "icon_name_state2nd",
                  "styles": {
                    "card": [
                      {
                        "height": "100px"
                      }
                    ]
                  },
                  "state": [
                    {
                      "value": 1,
                      "icon": "mdi:transmission-tower",
                      "label": "Ok",
                      "styles": {
                        "card": [
                          {
                            "background-color": "green"
                          }
                        ]
                      }
                    },
                    {
                      "value": 240,
                      "icon": "mdi:transmission-tower-off",
                      "label": "LOST",
                      "styles": {
                        "card": [
                          {
                            "background-color": "red"
                          },
                          {
                            "animation": "blink 1s ease infinite"
                          }
                        ]
                      }
                    }
                  ]
                },
                {
                  "type": "custom:button-card",
                  "color_type": "icon",
                  "entity": "sensor.solar_battery_general_alarm",
                  "name": "Battery Status",
                  "show_label": true,
                  "size": "100%",
                  "layout": "icon_name_state2nd",
                  "state": [
                    {
                      "value": 0,
                      "icon": "mdi:battery-charging",
                      "label": "Ok",
                      "styles": {
                        "card": [
                          {
                            "background-color": "green"
                          }
                        ]
                      }
                    },
                    {
                      "value": 2,
                      "icon": "mdi:battery-unknown",
                      "label": "ALARM",
                      "styles": {
                        "card": [
                          {
                            "background-color": "red"
                          },
                          {
                            "animation": "blink 1s ease infinite"
                          }
                        ]
                      }
                    }
                  ],
                  "styles": {
                    "card": [
                      {
                        "height": "100px"
                      }
                    ]
                  }
                },
                {
                  "type": "custom:button-card",
                  "color_type": "icon",
                  "icon": "mdi:solar-power-variant",
                  "entity": "sensor.solar_charger_error",
                  "name": "Solar Charger Status",
                  "show_label": true,
                  "state": [
                    {
                      "value": 0,
                      "label": "Ok",
                      "styles": {
                        "card": [
                          {
                            "background-color": "green"
                          }
                        ]
                      }
                    },
                    {
                      "value": 1,
                      "label": "Battery Temp",
                      "styles": {
                        "card": [
                          {
                            "background-color": "red"
                          },
                          {
                            "animation": "blink 2s ease infinite"
                          }
                        ]
                      }
                    },
                    {
                      "value": 2,
                      "label": "Battery Voltage",
                      "styles": {
                        "card": [
                          {
                            "background-color": "red"
                          },
                          {
                            "animation": "blink 2s ease infinite"
                          }
                        ]
                      }
                    },
                    {
                      "value": 3,
                      "label": "Batt+ Wiring",
                      "styles": {
                        "card": [
                          {
                            "background-color": "red"
                          },
                          {
                            "animation": "blink 2s ease infinite"
                          }
                        ]
                      }
                    },
                    {
                      "value": 4,
                      "label": "Batt- Wiring",
                      "styles": {
                        "card": [
                          {
                            "background-color": "red"
                          },
                          {
                            "animation": "blink 2s ease infinite"
                          }
                        ]
                      }
                    },
                    {
                      "value": 5,
                      "label": "Batt Temp Sensor",
                      "styles": {
                        "card": [
                          {
                            "background-color": "red"
                          },
                          {
                            "animation": "blink 2s ease infinite"
                          }
                        ]
                      }
                    }
                  ],
                  "size": "100%",
                  "layout": "icon_name_state2nd",
                  "styles": {
                    "card": [
                      {
                        "height": "100px"
                      }
                    ]
                  }
                },
                {
                  "type": "custom:button-card",
                  "color_type": "icon",
                  "icon": "mdi:power-socket-fr",
                  "entity": "sensor.ac_loads",
                  "name": "AC Load Overload",
                  "show_label": true,
                  "size": "100%",
                  "layout": "icon_name_state2nd",
                  "styles": {
                    "card": [
                      {
                        "height": "100px"
                      }
                    ]
                  },
                  "state": [
                    {
                      "value": 4700,
                      "operator": ">",
                      "color": "white",
                      "label": "ALARM!",
                      "styles": {
                        "card": [
                          {
                            "background-color": "red"
                          },
                          {
                            "animation": "blink 1s ease infinite"
                          }
                        ]
                      }
                    },
                    {
                      "value": 4000,
                      "operator": ">",
                      "color": "white",
                      "label": "WARNING!",
                      "styles": {
                        "card": [
                          {
                            "background-color": "yellow"
                          },
                          {
                            "animation": "blink 2s ease infinite"
                          }
                        ]
                      }
                    },
                    {
                      "value": 4700,
                      "operator": "<=",
                      "color": "white",
                      "label": "Ok",
                      "styles": {
                        "card": [
                          {
                            "background-color": "green"
                          }
                        ]
                      }
                    }
                  ]
                }
              ]
            },
            {
              "type": "entities",
              "entities": [
                {
                  "entity": "sensor.asmr_cyra_latest_upload",
                  "name": "Latest upload"
                },
                {
                  "entity": "sensor.asmr_cyra_subscribers",
                  "name": "Subscribers"
                }
              ],
              "title": "ASMR CYRA"
            },
            {
              "type": "entities",
              "entities": [
                {
                  "entity": "sensor.furniture_flipping_rush_latest_upload",
                  "name": "Latest upload"
                },
                {
                  "entity": "sensor.furniture_flipping_rush_subscribers",
                  "name": "Subscribers"
                }
              ],
              "title": "Furniture Flipping Rush"
            },
            {
              "type": "entities",
              "entities": [
                {
                  "entity": "sensor.web_scrape",
                  "name": "Web scrape"
                }
              ],
              "title": "Web scrape"
            }
          ]
        },
        {
          "theme": "Backend-selected",
          "title": "WEATHER",
          "path": "weather",
          "badges": [],
          "cards": [
            {
              "type": "entities",
              "entities": [
                {
                  "entity": "sensor.thornton_cape_town_absolute_pressure",
                  "name": "Absolute pressure"
                },
                {
                  "entity": "sensor.thornton_cape_town_daily_rain",
                  "name": "Daily rain"
                },
                {
                  "entity": "sensor.thornton_cape_town_dew_point",
                  "name": "Dew point"
                },
                {
                  "entity": "sensor.thornton_cape_town_event_rain",
                  "name": "Event rain"
                },
                {
                  "entity": "sensor.thornton_cape_town_feels_like",
                  "name": "Feels like"
                },
                {
                  "entity": "sensor.thornton_cape_town_humidity",
                  "name": "Humidity"
                },
                {
                  "entity": "sensor.thornton_cape_town_humidity_indoor",
                  "name": "Humidity indoor"
                },
                {
                  "entity": "sensor.thornton_cape_town_solar_rad_lx",
                  "name": "Illuminance"
                },
                {
                  "entity": "sensor.thornton_cape_town_inside_temperature",
                  "name": "Inside temperature"
                },
                {
                  "entity": "sensor.thornton_cape_town_irradiance",
                  "name": "Irradiance"
                },
                {
                  "entity": "sensor.thornton_cape_town_last_rain",
                  "name": "Last rain"
                },
                {
                  "entity": "sensor.thornton_cape_town_lifetime_rain",
                  "name": "Lifetime rain"
                },
                {
                  "entity": "sensor.thornton_cape_town_max_gust",
                  "name": "Max gust"
                },
                {
                  "entity": "sensor.thornton_cape_town_monthly_rain",
                  "name": "Monthly rain"
                },
                {
                  "entity": "sensor.thornton_cape_town_precipitation_intensity",
                  "name": "Precipitation intensity"
                },
                {
                  "entity": "sensor.thornton_cape_town_relative_pressure",
                  "name": "Relative pressure"
                },
                {
                  "entity": "sensor.thornton_cape_town_temperature",
                  "name": "Temperature"
                },
                {
                  "entity": "sensor.thornton_cape_town_uv_index",
                  "name": "UV index"
                },
                {
                  "entity": "sensor.thornton_cape_town_weekly_rain",
                  "name": "Weekly rain"
                },
                {
                  "entity": "sensor.thornton_cape_town_wind_direction",
                  "name": "Wind direction"
                },
                {
                  "entity": "sensor.thornton_cape_town_wind_gust",
                  "name": "Wind gust"
                },
                {
                  "entity": "sensor.thornton_cape_town_wind_speed",
                  "name": "Wind speed"
                },
                {
                  "entity": "sensor.home_cloud_cover"
                }
              ],
              "title": "Our Weather Station"
            },
            {
              "type": "entities",
              "entities": [
                {
                  "entity": "binary_sensor.thornton_cape_town_battery",
                  "name": "Battery"
                },
                {
                  "entity": "binary_sensor.thornton_cape_town_carbon_dioxide_battery",
                  "name": "Carbon dioxide battery"
                }
              ],
              "title": "Our Weather Station"
            },
            {
              "show_current": true,
              "show_forecast": true,
              "type": "weather-forecast",
              "entity": "weather.pirateweather",
              "forecast_type": "daily",
              "secondary_info_attribute": "cloud_coverage"
            }
          ]
        },
        {
          "theme": "Backend-selected",
          "title": "Network",
          "path": "network",
          "icon": "",
          "visible": [
            {
              "user": "716657a802fc4eca995929175c03c646"
            }
          ],
          "badges": [
            {
              "type": "entity",
              "show_name": true,
              "show_state": true,
              "show_icon": true,
              "entity": "sensor.omv_disk",
              "name": "OMV RAID"
            },
            {
              "type": "entity",
              "show_name": true,
              "show_state": true,
              "show_icon": true,
              "entity": "binary_sensor.omv_system_reboot_pending",
              "name": "OMV Reboot?",
              "show_entity_picture": false
            },
            {
              "type": "entity",
              "show_name": true,
              "show_state": true,
              "show_icon": true,
              "entity": "binary_sensor.omv_system_update_available",
              "name": "OMV Update?",
              "show_entity_picture": false
            },
            {
              "type": "entity",
              "show_name": true,
              "show_state": true,
              "show_icon": true,
              "entity": "sensor.system_monitor_processor_temperature",
              "name": "OMV CPU",
              "show_entity_picture": false
            }
          ],
          "cards": [
            {
              "type": "horizontal-stack",
              "cards": [
                {
                  "type": "gauge",
                  "entity": "sensor.speedtest_ping",
                  "min": 0,
                  "max": 100,
                  "needle": true,
                  "severity": {
                    "green": 0,
                    "yellow": 25,
                    "red": 60
                  },
                  "name": "SpeedTest Ping"
                },
                {
                  "type": "gauge",
                  "entity": "sensor.speedtest_download",
                  "min": 0,
                  "max": 500,
                  "severity": {
                    "green": 190,
                    "yellow": 130,
                    "red": 0
                  },
                  "needle": true,
                  "name": "SpeedTest Download"
                }
              ]
            },
            {
              "type": "gauge",
              "entity": "sensor.omv_filesystem",
              "name": "OMV RAID Disk Used",
              "needle": true,
              "severity": {
                "green": 0,
                "yellow": 80,
                "red": 90
              },
              "tap_action": {
                "action": "more-info"
              }
            },
            {
              "type": "horizontal-stack",
              "cards": [
                {
                  "type": "gauge",
                  "entity": "sensor.glances_gadgeteer_co_za_memory_usage",
                  "name": "OMV RAM Used",
                  "unit": "%",
                  "min": 0,
                  "max": 100,
                  "needle": true,
                  "severity": {
                    "green": 0,
                    "yellow": 80,
                    "red": 90
                  }
                },
                {
                  "type": "gauge",
                  "entity": "sensor.omv_filesystem_2",
                  "name": "OMV Disk Used",
                  "min": 0,
                  "max": 100,
                  "needle": true,
                  "severity": {
                    "green": 0,
                    "yellow": 80,
                    "red": 90
                  }
                },
                {
                  "type": "gauge",
                  "entity": "sensor.system_monitor_processor_use",
                  "name": "OMV CPU",
                  "needle": true,
                  "severity": {
                    "green": 0,
                    "yellow": 80,
                    "red": 90
                  }
                }
              ]
            },
            {
              "type": "horizontal-stack",
              "cards": [
                {
                  "type": "gauge",
                  "entity": "sensor.glances_gadgeteer_co_za_memory_usage",
                  "name": "VPS RAM Used",
                  "unit": "%",
                  "min": 0,
                  "max": 100,
                  "needle": true,
                  "severity": {
                    "green": 0,
                    "yellow": 80,
                    "red": 90
                  }
                },
                {
                  "type": "gauge",
                  "entity": "sensor.glances_gadgeteer_co_za_etc_hosts_disk_usage",
                  "name": "VPS Disk Used",
                  "min": 0,
                  "max": 100,
                  "needle": true,
                  "severity": {
                    "green": 0,
                    "yellow": 80,
                    "red": 90
                  }
                },
                {
                  "type": "gauge",
                  "entity": "sensor.glances_gadgeteer_co_za_cpu_usage",
                  "name": "VPS CPU Usage",
                  "unit": "%",
                  "min": 0,
                  "needle": true,
                  "severity": {
                    "green": 0,
                    "yellow": 80,
                    "red": 90
                  }
                }
              ]
            },
            {
              "type": "custom:mini-graph-card",
              "name": "Speedtest Stats - 7 Days",
              "entities": [
                {
                  "entity": "sensor.speedtest_download",
                  "name": "Download"
                },
                {
                  "entity": "sensor.speedtest_upload",
                  "name": "Upload"
                }
              ],
              "icon": "hass:speedometer",
              "height": 200,
              "line_width": 2,
              "align_icon": "right",
              "align_state": "center",
              "show": {
                "fill": true,
                "labels": true,
                "extrema": true
              },
              "hours_to_show": 168
            },
            {
              "type": "entities",
              "entities": [
                {
                  "entity": "sensor.danie_van_der_merwe_latest_upload",
                  "name": "Latest upload"
                },
                {
                  "entity": "sensor.danie_van_der_merwe_subscribers",
                  "name": "Subscribers"
                }
              ],
              "title": "Danie van der Merwe"
            }
          ]
        },
        {
          "theme": "Backend-selected",
          "title": "HAM",
          "path": "ham",
          "visible": [
            {
              "user": "716657a802fc4eca995929175c03c646"
            }
          ],
          "badges": [],
          "cards": [
            {
              "type": "map",
              "entities": [
                {
                  "entity": "device_tracker.zs1dcc_1"
                }
              ],
              "title": "APRS Devices"
            },
            {
              "type": "entities",
              "entities": [
                {
                  "entity": "sensor.ham_radio_propagation_solar_hf_12_10_day",
                  "name": "HF Conditions 12m-10m Day"
                },
                {
                  "entity": "sensor.ham_radio_propagation_solar_hf_12_10_night",
                  "name": "HF Conditions 12m-10m Night"
                },
                {
                  "entity": "sensor.ham_radio_propagation_solar_hf_17_15_day",
                  "name": "HF Conditions 17m-15m Day"
                },
                {
                  "entity": "sensor.ham_radio_propagation_solar_hf_17_15_night",
                  "name": "HF Conditions 17m-15m Night"
                },
                {
                  "entity": "sensor.ham_radio_propagation_solar_hf_30_20_day",
                  "name": "HF Conditions 30m-20m Day"
                },
                {
                  "entity": "sensor.ham_radio_propagation_solar_hf_30_20_night",
                  "name": "HF Conditions 30m-20m Night"
                },
                {
                  "entity": "sensor.ham_radio_propagation_solar_hf_80_40_day",
                  "name": "HF Conditions 80m-40m Day"
                },
                {
                  "entity": "sensor.ham_radio_propagation_solar_hf_80_40_night",
                  "name": "HF Conditions 80m-40m Night"
                },
                {
                  "entity": "sensor.ham_radio_propagation_solar_geomag_field",
                  "name": "HF Conditions Geomag Field"
                },
                {
                  "entity": "sensor.ham_radio_propagation_solar_sig_noise_lvl",
                  "name": "HF Conditions Noise Level"
                },
                {
                  "entity": "sensor.ham_radio_propagation_solar_a_index",
                  "name": "Solar A-Index"
                },
                {
                  "entity": "sensor.ham_radio_propagation_solar_bz",
                  "name": "Solar Bz"
                },
                {
                  "entity": "sensor.ham_radio_propagation_solar_flux_index",
                  "name": "Solar Flux Index"
                },
                {
                  "entity": "sensor.ham_radio_propagation_solar_fof2",
                  "name": "Solar foF2"
                },
                {
                  "entity": "sensor.ham_radio_propagation_solar_k_index",
                  "name": "Solar K-Index"
                },
                {
                  "entity": "sensor.ham_radio_propagation_solar_sunspots",
                  "name": "Solar Sunspots"
                },
                {
                  "entity": "sensor.ham_radio_propagation_solar_wind",
                  "name": "Solar Wind"
                },
                {
                  "entity": "sensor.ham_radio_propagation_solar_xray",
                  "name": "Solar X-Ray Class"
                },
                {
                  "entity": "sensor.ham_radio_propagation_solar_xray_scale",
                  "name": "Solar X-Ray Scale"
                }
              ],
              "title": "Solar Data"
            },
            {
              "type": "entities",
              "entities": [
                {
                  "entity": "sensor.none_ham_radios_energy_apparentpower",
                  "name": "Ham Radios ENERGY ApparentPower"
                },
                {
                  "entity": "sensor.none_ham_radios_energy_current",
                  "name": "Ham Radios ENERGY Current"
                },
                {
                  "entity": "sensor.none_ham_radios_energy_factor",
                  "name": "Ham Radios ENERGY Factor"
                },
                {
                  "entity": "sensor.none_ham_radios_energy_power",
                  "name": "Ham Radios ENERGY Power"
                },
                {
                  "entity": "sensor.none_ham_radios_energy_reactivepower",
                  "name": "Ham Radios ENERGY ReactivePower"
                },
                {
                  "entity": "sensor.none_ham_radios_energy_today",
                  "name": "Ham Radios ENERGY Today"
                },
                {
                  "entity": "sensor.none_ham_radios_energy_total",
                  "name": "Ham Radios ENERGY Total"
                },
                {
                  "entity": "sensor.none_ham_radios_energy_voltage",
                  "name": "Ham Radios ENERGY Voltage"
                },
                {
                  "entity": "sensor.none_ham_radios_energy_yesterday",
                  "name": "Ham Radios ENERGY Yesterday"
                },
                {
                  "entity": "sensor.ham_radios_ham_radios_status",
                  "name": "Ham Radios status"
                }
              ],
              "title": "Ham Radios"
            }
          ]
        },
        {
          "theme": "Backend-selected",
          "title": "SOLAR",
          "path": "solar",
          "type": "custom:masonry-layout",
          "layout": {
            "width": 300,
            "max_cols": 6
          },
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "gauge",
                  "entity": "sensor.battery_soc",
                  "needle": true,
                  "name": "Battery Charge",
                  "severity": {
                    "green": 50,
                    "yellow": 25,
                    "red": 0
                  }
                },
                {
                  "type": "gauge",
                  "entity": "sensor.ac_loads",
                  "min": 0,
                  "max": 5000,
                  "needle": true,
                  "severity": {
                    "green": 0,
                    "yellow": 1700,
                    "red": 4000
                  },
                  "name": "Inverter AC load"
                },
                {
                  "type": "gauge",
                  "entity": "sensor.pv_power",
                  "name": "Solar PV Power",
                  "min": 0,
                  "max": 2650,
                  "needle": true,
                  "severity": {
                    "green": 850,
                    "yellow": 300,
                    "red": 0
                  }
                }
              ]
            },
            {
              "type": "entities",
              "entities": [
                {
                  "entity": "sensor.battery_voltage"
                },
                {
                  "entity": "sensor.battery_current"
                }
              ],
              "title": "Battery Stats",
              "state_color": false,
              "footer": {
                "type": "graph",
                "entity": "sensor.battery_soc",
                "detail": 1
              }
            },
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "gauge",
                  "entity": "sensor.battery_power",
                  "name": "Battery Net Power",
                  "min": -5000,
                  "max": 5000,
                  "severity": {
                    "green": 1,
                    "yellow": -4999,
                    "red": -5000
                  },
                  "needle": true
                },
                {
                  "type": "gauge",
                  "entity": "sensor.solar_battery_temperature",
                  "name": "Battery Temp (-15 to 55)",
                  "unit": "C",
                  "min": 0,
                  "max": 55,
                  "needle": true,
                  "segments": [
                    {
                      "from": 0,
                      "color": "#b83c2c"
                    },
                    {
                      "from": 2,
                      "color": "yellow"
                    },
                    {
                      "from": 5,
                      "color": "green"
                    },
                    {
                      "from": 30,
                      "color": "yellow"
                    },
                    {
                      "from": 50,
                      "color": "#b83c2c"
                    }
                  ]
                }
              ]
            },
            {
              "type": "horizontal-stack",
              "cards": [
                {
                  "type": "gauge",
                  "entity": "sensor.time_left_on_battery_zero",
                  "name": "Time to Empty",
                  "unit": "Hours",
                  "min": 0,
                  "max": 24,
                  "needle": true,
                  "severity": {
                    "green": 5,
                    "yellow": 3,
                    "red": 0
                  }
                },
                {
                  "type": "gauge",
                  "entity": "sensor.time_left_on_battery_min_soc",
                  "name": "Time to Min SoC",
                  "unit": "Hours",
                  "min": 0,
                  "max": 24,
                  "needle": true,
                  "severity": {
                    "green": 3,
                    "yellow": 1,
                    "red": 0
                  }
                }
              ],
              "title": "Time Left on Battery"
            },
            {
              "type": "horizontal-stack",
              "cards": [
                {
                  "type": "custom:button-card",
                  "icon": "mdi:transmission-tower",
                  "entity": "sensor.sonoff_10023a625a_power",
                  "label": "Eskom Grid Power",
                  "show_state": true,
                  "show_name": false,
                  "show_label": true,
                  "size": "15%",
                  "styles": null,
                  "height": "100px",
                  "state": [
                    {
                      "value": 1,
                      "operator": "<=",
                      "color": "red"
                    },
                    {
                      "value": 100,
                      "operator": "<=",
                      "color": "green"
                    },
                    {
                      "value": 1500,
                      "operator": "<=",
                      "color": "yellow"
                    },
                    {
                      "value": 1500,
                      "operator": ">",
                      "color": "orange"
                    }
                  ]
                },
                {
                  "type": "custom:button-card",
                  "icon": "mdi:cash-multiple",
                  "entity": "sensor.monthly_grid_cost",
                  "label": "Monthly Cost",
                  "show_state": true,
                  "show_name": false,
                  "show_label": true,
                  "size": "15%",
                  "styles": null,
                  "height": "100px",
                  "color": "rgb(0,255,0)"
                }
              ],
              "title": "Eskom Power"
            },
            {
              "type": "horizontal-stack",
              "cards": [
                {
                  "type": "custom:button-card",
                  "entity": "sensor.ve_bus_state",
                  "icon": "mdi:solar-power-variant",
                  "show_state": false,
                  "show_label": true,
                  "state": [
                    {
                      "value": 0,
                      "color": "var(--disabled-text-color)",
                      "icon": "mdi:power-plug-off-outline",
                      "label": "Off"
                    },
                    {
                      "value": 1,
                      "color": "rgb(255,255,0)",
                      "icon": "mdi:lightning-bolt-circle",
                      "label": "Low Power"
                    },
                    {
                      "value": 2,
                      "color": "rgb(255,0,0)",
                      "icon": "mdi:alert",
                      "label": "Fault"
                    },
                    {
                      "value": 3,
                      "color": "rgb(0,255,0)",
                      "label": "[[[\n  if (states[\"sensor.battery_power\"].state <= 0) return 'Discharging';\n  else return 'Bulk Charge';\n]]]\n"
                    },
                    {
                      "value": 4,
                      "color": "rgb(0,128,0)",
                      "label": "Absorption"
                    },
                    {
                      "value": 5,
                      "color": "rgb(0,128,128)",
                      "label": "Float"
                    },
                    {
                      "value": 6,
                      "color": "rgb(0,206,209)",
                      "label": "Storage"
                    },
                    {
                      "value": 7,
                      "color": "rgb(173,216,230)",
                      "label": "Equalize"
                    },
                    {
                      "value": 8,
                      "color": "rgb(138,43,226)",
                      "label": "Pass Through"
                    },
                    {
                      "value": 9,
                      "color": "rgb(255,0,255)",
                      "label": "Inverting"
                    },
                    {
                      "value": 10,
                      "color": "rgb(184,134,11)",
                      "label": "Power Assist"
                    },
                    {
                      "value": 11,
                      "color": "rgb(218,165,32)",
                      "label": "Power Supply"
                    },
                    {
                      "value": 252,
                      "color": "rgb(0,255,0)",
                      "label": "Ext. Control"
                    }
                  ]
                },
                {
                  "type": "custom:button-card",
                  "entity": "sensor.victron_ess_battery_life_state",
                  "icon": "mdi:battery-heart",
                  "show_state": false,
                  "show_label": true,
                  "state": [
                    {
                      "value": 0,
                      "color": "var(--disabled-text-color)",
                      "icon": "mdi:battery-off-outline",
                      "label": "Unused"
                    },
                    {
                      "value": 1,
                      "color": "rgb(218,165,32)",
                      "icon": "mdi:battery-sync-outline",
                      "label": "Restarting"
                    },
                    {
                      "value": 2,
                      "color": "rgb(0,255,0)",
                      "label": "Self-Consumption"
                    },
                    {
                      "value": 3,
                      "color": "rgb(0,255,0)",
                      "label": "Self-Consumption"
                    },
                    {
                      "value": 4,
                      "color": "rgb(0,255,0)",
                      "label": "Self-Consumption"
                    },
                    {
                      "value": 5,
                      "color": "rgb(0,255,0)",
                      "label": "Discharge Disabled"
                    },
                    {
                      "value": 6,
                      "color": "rgb(0,255,0)",
                      "icon": "mdi:battery-charging-medium",
                      "label": "Force Charge"
                    },
                    {
                      "value": 7,
                      "color": "rgb(0,255,0)",
                      "icon": "mdi:battery-charging-50",
                      "label": "Sustain"
                    },
                    {
                      "value": 9,
                      "color": "rgb(0,255,0)",
                      "icon": "mdi:battery-charging-100",
                      "label": "Keep batteries charged"
                    },
                    {
                      "value": 10,
                      "color": "rgb(0,255,0)",
                      "icon": "mdi:battery-arrow-down",
                      "label": "Battery Life Disabled"
                    },
                    {
                      "value": 11,
                      "color": "rgb(218,165,32)",
                      "label": "BL Disabled (Low SoC)"
                    },
                    {
                      "value": 12,
                      "color": "rgb(0,255,0)",
                      "icon": "mdi:battery-arrow-up-outline",
                      "label": "Charging"
                    }
                  ]
                }
              ],
              "title": "Victron ESS"
            },
            {
              "type": "vertical-stack",
              "title": "Alarms",
              "cards": [
                {
                  "type": "custom:button-card",
                  "color_type": "icon",
                  "entity": "sensor.active_input_source",
                  "name": "Grid Status",
                  "show_label": true,
                  "size": "100%",
                  "layout": "icon_name_state2nd",
                  "styles": {
                    "card": [
                      {
                        "height": "100px"
                      }
                    ]
                  },
                  "state": [
                    {
                      "value": 1,
                      "icon": "mdi:transmission-tower",
                      "label": "Ok",
                      "styles": {
                        "card": [
                          {
                            "background-color": "green"
                          }
                        ]
                      }
                    },
                    {
                      "value": 240,
                      "icon": "mdi:transmission-tower-off",
                      "label": "LOST",
                      "styles": {
                        "card": [
                          {
                            "background-color": "red"
                          },
                          {
                            "animation": "blink 1s ease infinite"
                          }
                        ]
                      }
                    }
                  ]
                },
                {
                  "type": "custom:button-card",
                  "color_type": "icon",
                  "entity": "sensor.solar_battery_general_alarm",
                  "name": "Battery Status",
                  "show_label": true,
                  "size": "100%",
                  "layout": "icon_name_state2nd",
                  "state": [
                    {
                      "value": 0,
                      "icon": "mdi:battery-charging",
                      "label": "Ok",
                      "styles": {
                        "card": [
                          {
                            "background-color": "green"
                          }
                        ]
                      }
                    },
                    {
                      "value": 2,
                      "icon": "mdi:battery-unknown",
                      "label": "ALARM",
                      "styles": {
                        "card": [
                          {
                            "background-color": "red"
                          },
                          {
                            "animation": "blink 1s ease infinite"
                          }
                        ]
                      }
                    }
                  ],
                  "styles": {
                    "card": [
                      {
                        "height": "100px"
                      }
                    ]
                  }
                },
                {
                  "type": "custom:button-card",
                  "color_type": "icon",
                  "icon": "mdi:solar-power-variant",
                  "entity": "sensor.solar_charger_error",
                  "name": "Solar Charger Status",
                  "show_label": true,
                  "state": [
                    {
                      "value": 0,
                      "label": "Ok",
                      "styles": {
                        "card": [
                          {
                            "background-color": "green"
                          }
                        ]
                      }
                    },
                    {
                      "value": 1,
                      "label": "Battery Temp",
                      "styles": {
                        "card": [
                          {
                            "background-color": "red"
                          },
                          {
                            "animation": "blink 2s ease infinite"
                          }
                        ]
                      }
                    },
                    {
                      "value": 2,
                      "label": "Battery Voltage",
                      "styles": {
                        "card": [
                          {
                            "background-color": "red"
                          },
                          {
                            "animation": "blink 2s ease infinite"
                          }
                        ]
                      }
                    },
                    {
                      "value": 3,
                      "label": "Batt+ Wiring",
                      "styles": {
                        "card": [
                          {
                            "background-color": "red"
                          },
                          {
                            "animation": "blink 2s ease infinite"
                          }
                        ]
                      }
                    },
                    {
                      "value": 4,
                      "label": "Batt- Wiring",
                      "styles": {
                        "card": [
                          {
                            "background-color": "red"
                          },
                          {
                            "animation": "blink 2s ease infinite"
                          }
                        ]
                      }
                    },
                    {
                      "value": 5,
                      "label": "Batt Temp Sensor",
                      "styles": {
                        "card": [
                          {
                            "background-color": "red"
                          },
                          {
                            "animation": "blink 2s ease infinite"
                          }
                        ]
                      }
                    }
                  ],
                  "size": "100%",
                  "layout": "icon_name_state2nd",
                  "styles": {
                    "card": [
                      {
                        "height": "100px"
                      }
                    ]
                  }
                },
                {
                  "type": "custom:button-card",
                  "color_type": "icon",
                  "icon": "mdi:power-socket-fr",
                  "entity": "sensor.ac_loads",
                  "name": "AC Load Overload",
                  "show_label": true,
                  "size": "100%",
                  "layout": "icon_name_state2nd",
                  "styles": {
                    "card": [
                      {
                        "height": "100px"
                      }
                    ]
                  },
                  "state": [
                    {
                      "value": 4700,
                      "operator": ">",
                      "color": "white",
                      "label": "ALARM!",
                      "styles": {
                        "card": [
                          {
                            "background-color": "red"
                          },
                          {
                            "animation": "blink 1s ease infinite"
                          }
                        ]
                      }
                    },
                    {
                      "value": 4000,
                      "operator": ">",
                      "color": "white",
                      "label": "WARNING!",
                      "styles": {
                        "card": [
                          {
                            "background-color": "yellow"
                          },
                          {
                            "animation": "blink 2s ease infinite"
                          }
                        ]
                      }
                    },
                    {
                      "value": 4700,
                      "operator": "<=",
                      "color": "white",
                      "label": "Ok",
                      "styles": {
                        "card": [
                          {
                            "background-color": "green"
                          }
                        ]
                      }
                    }
                  ]
                }
              ]
            },
            {
              "show_name": true,
              "show_icon": true,
              "show_state": true,
              "type": "glance",
              "entities": [
                {
                  "entity": "weather.pirateweather"
                }
              ],
              "title": "Cloud Coverage",
              "columns": 1,
              "state_color": false
            },
            {
              "type": "entities",
              "entities": [
                {
                  "entity": "sensor.yield_total_yesterday"
                },
                {
                  "entity": "sensor.yield_so_far_today"
                },
                {
                  "entity": "sensor.energy_production_today",
                  "name": "Energy forecast for today"
                },
                {
                  "entity": "sensor.energy_production_tomorrow",
                  "name": "Energy forecast for tomorrow"
                },
                {
                  "entity": "sensor.maximum_charge_power_yesterday"
                },
                {
                  "entity": "sensor.maximum_charge_power_today"
                }
              ],
              "title": "Solar PV Charge Stats",
              "show_header_toggle": false
            },
            {
              "type": "vertical-stack",
              "title": "Battery Charging",
              "cards": [
                {
                  "type": "custom:button-card",
                  "color_type": "icon",
                  "entity": "sensor.victron_ess_battery_life_state",
                  "name": "ESS Battery State",
                  "show_label": true,
                  "color": "green",
                  "state": [
                    {
                      "value": 0,
                      "icon": "mdi:battery-off-outline",
                      "label": "Unused/Disabled"
                    },
                    {
                      "value": 1,
                      "icon": "mdi:car-battery",
                      "label": "Restarting"
                    },
                    {
                      "value": 2,
                      "icon": "mdi:battery-90",
                      "label": "Self-Consumption"
                    },
                    {
                      "value": 3,
                      "icon": "mdi:battery-90",
                      "label": "Self-Consumption"
                    },
                    {
                      "value": 4,
                      "icon": "mdi:battery-90",
                      "label": "Optimised with Battery Life"
                    },
                    {
                      "value": 5,
                      "icon": "mdi:battery-minus-outline",
                      "label": "Discharge Disabled"
                    },
                    {
                      "value": 6,
                      "icon": "mdi:battery-charging-high",
                      "label": "Force Charge"
                    },
                    {
                      "value": 7,
                      "icon": "mdi:battery-30",
                      "label": "Sustain Battery"
                    },
                    {
                      "value": 9,
                      "icon": "mdi:battery-high",
                      "label": "Keep Charged"
                    },
                    {
                      "value": 10,
                      "icon": "mdi:battery-heart",
                      "label": "Optimised without Battery Life"
                    },
                    {
                      "value": 11,
                      "icon": "mdi:battery-outline",
                      "label": "Optimised without Battery Life"
                    }
                  ],
                  "size": "15%",
                  "styles": {
                    "card": [
                      {
                        "height": "100px"
                      }
                    ]
                  }
                },
                {
                  "type": "custom:button-card",
                  "entity": "sensor.victron_battery_min_soc",
                  "icon": "hass:battery",
                  "color": "green",
                  "show_name": false,
                  "show_state": true,
                  "show_label": true,
                  "label": "Current Battery Minimum SoC",
                  "size": "15%",
                  "styles": {
                    "card": [
                      {
                        "height": "100px"
                      }
                    ]
                  }
                },
                {
                  "type": "custom:restriction-card",
                  "duration": 10,
                  "restrictions": {
                    "confirm": {
                      "text": "Are you SURE you want to adjust SoC?"
                    }
                  },
                  "card": {
                    "type": "entities",
                    "entities": [
                      {
                        "entity": "input_number.multiplus_minimum_soc",
                        "name": "Change Minimum SoC",
                        "icon": "mdi:battery"
                      }
                    ]
                  }
                }
              ]
            },
            {
              "type": "vertical-stack",
              "cards": [
                {
                  "type": "custom:mini-graph-card",
                  "name": "Solar Stats - 3 Days",
                  "entities": [
                    {
                      "entity": "sensor.pv_power_charger",
                      "name": "Solar Charger Yield"
                    },
                    {
                      "entity": "sensor.radiation_converted",
                      "name": "W/Station Yield"
                    },
                    {
                      "entity": "sensor.power_production_now",
                      "name": "Forecast"
                    }
                  ],
                  "icon": "hass:power",
                  "height": 200,
                  "line_width": 2,
                  "align_icon": "right",
                  "align_state": "center",
                  "decimals": 0,
                  "show": {
                    "fill": true,
                    "labels": true,
                    "extrema": true
                  },
                  "hours_to_show": 72
                }
              ]
            },
            {
              "type": "gauge",
              "entity": "sensor.battery_last_full_days",
              "name": "Battery Last Fully Charged",
              "unit": "Days",
              "min": 0,
              "max": 14,
              "needle": true,
              "severity": {
                "green": 0,
                "yellow": 6,
                "red": 10
              }
            },
            {
              "type": "entities",
              "entities": [
                {
                  "entity": "sensor.ac_loads"
                },
                {
                  "entity": "sensor.custom_ac_loads"
                }
              ]
            }
          ]
        }
      ]
    }
  }
}